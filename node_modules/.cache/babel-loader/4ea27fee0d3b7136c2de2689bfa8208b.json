{"ast":null,"code":"var _classCallCheck = require(\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\n/*!\n* metismenujs - v1.3.0\n* MetisMenu: Collapsible menu plugin with Vanilla-JS\n* https://github.com/onokumus/metismenujs#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = \"undefined\" != typeof globalThis ? globalThis : t || self).MetisMenu = e();\n}(this, function () {\n  \"use strict\";\n\n  var t = {\n    parentTrigger: \"li\",\n    subMenu: \"ul\",\n    toggle: !0,\n    triggerElement: \"a\"\n  },\n      e = {\n    ACTIVE: \"mm-active\",\n    COLLAPSE: \"mm-collapse\",\n    COLLAPSED: \"mm-collapsed\",\n    COLLAPSING: \"mm-collapsing\",\n    METIS: \"metismenu\",\n    SHOW: \"mm-show\"\n  };\n\n  function i(t, e) {\n    return (t.matches || t.webkitMatchesSelector || t.msMatchesSelector).call(t, e);\n  }\n\n  function s(t, e) {\n    if (t.closest) return t.closest(e);\n    var s = t;\n\n    for (; s;) {\n      if (i(s, e)) return s;\n      s = s.parentElement;\n    }\n\n    return null;\n  }\n\n  var n = /*#__PURE__*/function () {\n    function n(e, i) {\n      _classCallCheck(this, n);\n\n      this.element = n.isElement(e) ? e : document.querySelector(e), this.config = Object.assign(Object.assign({}, t), i), this.disposed = !1, this.triggerArr = [], this.init();\n    }\n\n    _createClass(n, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var t = e.METIS,\n            i = e.ACTIVE,\n            _n = e.COLLAPSE;\n        this.element.classList.add(t), [].slice.call(this.element.querySelectorAll(this.config.subMenu)).forEach(function (t) {\n          t.classList.add(_n);\n          var e = s(t, _this.config.parentTrigger);\n          (null == e ? void 0 : e.classList.contains(i)) ? _this.show(t) : _this.hide(t);\n          var l = null == e ? void 0 : e.querySelector(_this.config.triggerElement);\n          \"true\" !== (null == l ? void 0 : l.getAttribute(\"aria-disabled\")) && (null == l || l.setAttribute(\"aria-expanded\", \"false\"), null == l || l.addEventListener(\"click\", _this.clickEvent.bind(_this)), _this.triggerArr.push(l));\n        });\n      }\n    }, {\n      key: \"clickEvent\",\n      value: function clickEvent(t) {\n        if (!this.disposed) {\n          var _e = null == t ? void 0 : t.currentTarget;\n\n          _e && \"A\" === _e.tagName && t.preventDefault();\n\n          var _i = s(_e, this.config.parentTrigger),\n              _n5 = null == _i ? void 0 : _i.querySelector(this.config.subMenu);\n\n          this.toggle(_n5);\n        }\n      }\n    }, {\n      key: \"update\",\n      value: function update() {\n        this.disposed = !1, this.init();\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        var _this2 = this;\n\n        this.triggerArr.forEach(function (t) {\n          t.removeEventListener(\"click\", _this2.clickEvent.bind(_this2));\n        }), this.disposed = !0;\n      }\n    }, {\n      key: \"on\",\n      value: function on(t, e, i) {\n        return this.element.addEventListener(t, e, i), this;\n      }\n    }, {\n      key: \"off\",\n      value: function off(t, e, i) {\n        return this.element.removeEventListener(t, e, i), this;\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(t, e) {\n        var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n        var s;\n        return \"function\" == typeof CustomEvent ? s = new CustomEvent(t, {\n          bubbles: i,\n          detail: e\n        }) : (s = document.createEvent(\"CustomEvent\"), s.initCustomEvent(t, i, !1, e)), this.element.dispatchEvent(s), this;\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle(t) {\n        var i = s(t, this.config.parentTrigger);\n        (null == i ? void 0 : i.classList.contains(e.ACTIVE)) ? this.hide(t) : this.show(t);\n      }\n    }, {\n      key: \"show\",\n      value: function show(t) {\n        var _this3 = this;\n\n        var i;\n        var _n3 = t,\n            l = e.ACTIVE,\n            r = e.COLLAPSE,\n            o = e.COLLAPSED,\n            c = e.COLLAPSING,\n            a = e.SHOW;\n        if (this.isTransitioning || _n3.classList.contains(c)) return;\n\n        var h = function h() {\n          _n3.classList.remove(c), _n3.style.height = \"\", _n3.removeEventListener(\"transitionend\", h), _this3.setTransitioning(!1), _this3.emit(\"shown.metisMenu\", {\n            shownElement: _n3\n          });\n        },\n            d = s(_n3, this.config.parentTrigger);\n\n        null == d || d.classList.add(l);\n        var u = null == d ? void 0 : d.querySelector(this.config.triggerElement);\n        null == u || u.setAttribute(\"aria-expanded\", \"true\"), null == u || u.classList.remove(o), _n3.style.height = \"0px\", _n3.classList.remove(r), _n3.classList.remove(a), _n3.classList.add(c);\n        var g = [].slice.call(null === (i = null == d ? void 0 : d.parentNode) || void 0 === i ? void 0 : i.children).filter(function (t) {\n          return t !== d;\n        });\n        this.config.toggle && g.length > 0 && g.forEach(function (t) {\n          var e = t.querySelector(_this3.config.subMenu);\n          e && _this3.hide(e);\n        }), this.setTransitioning(!0), _n3.classList.add(r), _n3.classList.add(a), _n3.style.height = \"\".concat(_n3.scrollHeight, \"px\"), this.emit(\"show.metisMenu\", {\n          showElement: _n3\n        }), _n3.addEventListener(\"transitionend\", h);\n      }\n    }, {\n      key: \"hide\",\n      value: function hide(t) {\n        var _this4 = this;\n\n        var i = e.ACTIVE,\n            _n4 = e.COLLAPSE,\n            l = e.COLLAPSED,\n            r = e.COLLAPSING,\n            o = e.SHOW,\n            c = t;\n        if (this.isTransitioning || !c.classList.contains(o)) return;\n        this.emit(\"hide.metisMenu\", {\n          hideElement: c\n        });\n        var a = s(c, this.config.parentTrigger);\n        null == a || a.classList.remove(i);\n\n        var h = function h() {\n          c.classList.remove(r), c.classList.add(_n4), c.style.height = \"\", c.removeEventListener(\"transitionend\", h), _this4.setTransitioning(!1), _this4.emit(\"hidden.metisMenu\", {\n            hiddenElement: c\n          });\n        };\n\n        c.style.height = \"\".concat(c.getBoundingClientRect().height, \"px\"), c.style.height = \"\".concat(c.offsetHeight, \"px\"), c.classList.add(r), c.classList.remove(_n4), c.classList.remove(o), this.setTransitioning(!0), c.addEventListener(\"transitionend\", h), c.style.height = \"0px\";\n        var d = null == a ? void 0 : a.querySelector(this.config.triggerElement);\n        null == d || d.setAttribute(\"aria-expanded\", \"false\"), null == d || d.classList.add(l);\n      }\n    }, {\n      key: \"setTransitioning\",\n      value: function setTransitioning(t) {\n        this.isTransitioning = t;\n      }\n    }], [{\n      key: \"attach\",\n      value: function attach(t, e) {\n        return new n(t, e);\n      }\n    }, {\n      key: \"isElement\",\n      value: function isElement(t) {\n        return Boolean(t.classList);\n      }\n    }]);\n\n    return n;\n  }();\n\n  return n;\n});","map":{"version":3,"sources":["../src/constant.ts","../src/util.ts","../src/index.ts"],"names":["Default","parentTrigger","subMenu","toggle","triggerElement","ClassName","ACTIVE","COLLAPSE","COLLAPSED","COLLAPSING","METIS","SHOW","matches","element","selector","webkitMatchesSelector","msMatchesSelector","call","closest","el","parentElement","MetisMenu","[object Object]","options","this","isElement","document","querySelector","config","Object","disposed","triggerArr","init","opt","classList","add","slice","querySelectorAll","forEach","ul","li","contains","show","hide","a","getAttribute","setAttribute","addEventListener","clickEvent","bind","push","evt","target","currentTarget","tagName","preventDefault","arr","removeEventListener","evtType","handler","evtData","shouldBubble","CustomEvent","bubbles","detail","createEvent","initCustomEvent","dispatchEvent","isTransitioning","complete","remove","style","height","setTransitioning","emit","shownElement","eleParentSiblins","_a","parentNode","children","filter","c","length","sibli","sibUl","scrollHeight","showElement","hideElement","hiddenElement","getBoundingClientRect","offsetHeight","Boolean"],"mappings":";;;;;;;;;;;;;;;;;AAQO,MAAMA,CAAAA,GAAsB;AACjCC,IAAAA,aAAAA,EAAe,IADkB;AAEjCC,IAAAA,OAAAA,EAAS,IAFwB;AAGjCC,IAAAA,MAAAA,EAAAA,CAAQ,CAHyB;AAIjCC,IAAAA,cAAAA,EAAgB;AAJiB,GAA5B;AAAA,MAOMC,CAAAA,GAAY;AACvBC,IAAAA,MAAAA,EAAQ,WADe;AAEvBC,IAAAA,QAAAA,EAAU,aAFa;AAGvBC,IAAAA,SAAAA,EAAW,cAHY;AAIvBC,IAAAA,UAAAA,EAAY,eAJW;AAKvBC,IAAAA,KAAAA,EAAO,WALgB;AAMvBC,IAAAA,IAAAA,EAAM;AANiB,GAPlB;;AAaC,WCrBQC,CDqBR,CCrBgBC,CDqBhB,ECrBkCC,CDqBlC,ECrBkCA;AAIxC,WAAA,CAHsBD,CAAAA,CAAQD,OAARC,IACjBA,CAAAA,CAAQE,qBADSF,IAEjBA,CAAAA,CAAQG,iBACb,EAAqBC,IAArB,CAA0BJ,CAA1B,EAAmCC,CAAnC,CAAA;AAAmCA;;AAAAA,WAGrBI,CAHqBJ,CAGbD,CAHaC,EAGKA,CAHLA,EAGKA;AACxC,QAAID,CAAAA,CAAQK,OAAZ,EACE,OAAOL,CAAAA,CAAQK,OAARL,CAAgBC,CAAhBD,CAAP;AAGF,QAAIM,CAAAA,GAAqBN,CAAzB;;AACA,WAAOM,CAAP,GAAW;AACT,UAAIP,CAAAA,CAAQO,CAARP,EAAYE,CAAZF,CAAJ,EACE,OAAOO,CAAP;AAEFA,MAAAA,CAAAA,GAAKA,CAAAA,CAAGC,aAARD;AAEF;;AAAA,WAAO,IAAP;ACbF;;MAAME,C;AAoBJC,eAAYT,CAAZS,EAAuCC,CAAvCD,EAAuCC;AAAAA;;AACrCC,WAAKX,OAALW,GAAeH,CAAAA,CAAUI,SAAVJ,CAAoBR,CAApBQ,IAA+BR,CAA/BQ,GAAyCK,QAAAA,CAASC,aAATD,CAAoCb,CAApCa,CAAxDF,EACAA,KAAKI,MAALJ,GAAWK,MAAAA,CAAAA,MAAAA,CAAAA,MAAAA,CAAAA,MAAAA,CAAAA,EAAAA,EAAQ7B,CAAR6B,CAAAA,EAAoBN,CAApBM,CADXL,EAEAA,KAAKM,QAALN,GAAKM,CAAW,CAFhBN,EAGAA,KAAKO,UAALP,GAAkB,EAHlBA,EAIAA,KAAKQ,IAALR,EAJAA;AAOFF;;;;aAIQA,gBAAAA;AAAAA;;AACN,YAAQZ,CAAR,GAAoCL,CAApC,CAAMK,KAAN;AAAA,YAAeJ,CAAf,GAAoCD,CAApC,CAAaC,MAAb;AAAA,YAAuBC,EAAvB,GAAoCF,CAApC,CAAqBE,QAArB;AACAiB,aAAKX,OAALW,CAAaU,SAAbV,CAAuBW,GAAvBX,CAA2Bd,CAA3Bc,GAEA,GAAGY,KAAH,CAASnB,IAAT,CAAcO,KAAKX,OAALW,CAAaa,gBAAbb,CAA2CA,KAAKI,MAALJ,CAAYtB,OAAvDsB,CAAd,EAAgFc,OAAhF,CAAyFC,UAAAA,CAAAA,EAAAA;AACvFA,UAAAA,CAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiBhC,EAAjBgC;AACA,cAAMC,CAAAA,GAAKtB,CAAAA,CAAQqB,CAARrB,EAAYM,KAAAA,CAAKI,MAALJ,CAAYvB,aAAxBiB,CAAX;AAAmCjB,WAE/BuC,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIN,SAAJM,CAAcC,QAAdD,CAAuBlC,CAAvBkC,CAF+BvC,IAGjCuB,KAAAA,CAAKkB,IAALlB,CAAUe,CAAVf,CAHiCvB,GAKjCuB,KAAAA,CAAKmB,IAALnB,CAAUe,CAAVf,CALiCvB;AAQnC,cAAM2C,CAAAA,GAAIJ,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIb,aAAJa,CAA+BhB,KAAAA,CAAKI,MAALJ,CAAYpB,cAA3CoC,CAAV;AACyC,sBAArCI,QAAAA,CAAAA,GAAAA,KAAC,CAADA,GAAAA,CAAAA,CAAGC,YAAHD,CAAgB,eAAhBA,CAAqC,MAIzCA,QAAAA,CAAAA,IAAAA,CAAAA,CAAGE,YAAHF,CAAgB,eAAhBA,EAAiC,OAAjCA,CAAAA,EAEAA,QAAAA,CAAAA,IAAAA,CAAAA,CAAGG,gBAAHH,CAAoB,OAApBA,EAA6BpB,KAAAA,CAAKwB,UAALxB,CAAgByB,IAAhBzB,CAAqBA,KAArBA,CAA7BoB,CAFAA,EAGApB,KAAAA,CAAKO,UAALP,CAAgB0B,IAAhB1B,CAAqBoB,CAArBpB,CAPyC;AAOpBoB,SAlBvB,CAFApB;AAwBMF;;;aAAAA,oBAAW6B,CAAX7B,EAAW6B;AACjB,YAAA,CAAK3B,KAAKM,QAAV,EAAoB;AAClB,cAAMsB,EAAAA,GAASD,QAAAA,CAAAA,GAAAA,KAAG,CAAHA,GAAAA,CAAAA,CAAKE,aAApB;;AACID,UAAAA,EAAAA,IAA6B,QAAnBA,EAAAA,CAAOE,OAAjBF,IACFD,CAAAA,CAAKI,cAALJ,EADEC;;AAIJ,cAAMZ,EAAAA,GAAKtB,CAAAA,CAAQkC,EAARlC,EAAiBM,KAAKI,MAALJ,CAAYvB,aAA7BiB,CAAX;AAAA,cACMqB,GAAAA,GAAKC,QAAAA,EAAAA,GAAAA,KAAE,CAAFA,GAAAA,EAAAA,CAAIb,aAAJa,CAAkBhB,KAAKI,MAALJ,CAAYtB,OAA9BsC,CADX;;AAEAhB,eAAKrB,MAALqB,CAAYe,GAAZf;AAAYe;AAIhBjB;;;aAAAA,kBAAAA;AACEE,aAAKM,QAALN,GAAKM,CAAW,CAAhBN,EACAA,KAAKQ,IAALR,EADAA;AAIFF;;;aAAAA,mBAAAA;AAAAA;;AACEE,aAAKO,UAALP,CAAgBc,OAAhBd,CAAyBgC,UAAAA,CAAAA,EAAAA;AACvBA,UAAAA,CAAAA,CAAIC,mBAAJD,CAAwB,OAAxBA,EAAiChC,MAAAA,CAAKwB,UAALxB,CAAgByB,IAAhBzB,CAAqBA,MAArBA,CAAjCgC;AAAsDhC,SADxDA,GAGAA,KAAKM,QAALN,GAAKM,CAAW,CAHhBN;AAUFF;;;aAAAA,YAAGoC,CAAHpC,EAA6BqC,CAA7BrC,EAAqDC,CAArDD,EAAqDC;AAEnD,eADAC,KAAKX,OAALW,CAAauB,gBAAbvB,CAA8BkC,CAA9BlC,EAAuCmC,CAAvCnC,EAAgDD,CAAhDC,GACOA,IAAP;AAOFF;;;aAAAA,aAAIoC,CAAJpC,EAA8BqC,CAA9BrC,EAAsDC,CAAtDD,EAAsDC;AAEpD,eADAC,KAAKX,OAALW,CAAaiC,mBAAbjC,CAAiCkC,CAAjClC,EAA0CmC,CAA1CnC,EAAmDD,CAAnDC,GACOA,IAAP;AAGFF;;;aAAAA,cAAuBoC,CAAvBpC,EAAwCsC,CAAxCtC,EAAmE;AAAA,YAAfuC,CAAe,uEAAfA,CAAe,CAAA;AACjE,YAAIV,CAAJ;AAWA,eAV2B,cAAA,OAAhBW,WAAgB,GACzBX,CAAAA,GAAM,IAAIW,WAAJ,CAAmBJ,CAAnB,EAA4B;AAChCK,UAAAA,OAAAA,EAASF,CADuB;AAEhCG,UAAAA,MAAAA,EAAQJ;AAFwB,SAA5B,CADmB,IAMzBT,CAAAA,GAAMzB,QAAAA,CAASuC,WAATvC,CAAqB,aAArBA,CAANyB,EACAA,CAAAA,CAAIe,eAAJf,CAAoBO,CAApBP,EAA6BU,CAA7BV,EAA6BU,CAAc,CAA3CV,EAAkDS,CAAlDT,CAPyB,GAS3B3B,KAAKX,OAALW,CAAa2C,aAAb3C,CAA2B2B,CAA3B3B,CAT2B,EAUpBA,IAAP;AAGFF;;;aAAAA,gBAAOiB,CAAPjB,EAAOiB;AACL,YAAMC,CAAAA,GAAKtB,CAAAA,CAAQqB,CAARrB,EAAYM,KAAKI,MAALJ,CAAYvB,aAAxBiB,CAAX;AAAmCjB,SAC/BuC,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIN,SAAJM,CAAcC,QAAdD,CAAuBnC,CAAAA,CAAUC,MAAjCkC,CAD+BvC,IAEjCuB,KAAKmB,IAALnB,CAAUe,CAAVf,CAFiCvB,GAIjCuB,KAAKkB,IAALlB,CAAUe,CAAVf,CAJiCvB;AAQrCqB;;;aAAAA,cAAKH,CAALG,EAAKH;AAAAA;;AAAAA,YAAAA,CAAAA;AACGoB,YAAAA,GAAAA,GAAKpB,CAALoB;AAAAA,YAEJjC,CAFIiC,GAGFlC,CAHEkC,CACAjC,MADAiC;AAAAA,YAEIhC,CAFJgC,GAGFlC,CAHEkC,CAEEhC,QAFFgC;AAAAA,YAEc/B,CAFd+B,GAGFlC,CAHEkC,CAEY/B,SAFZ+B;AAAAA,YAEyB9B,CAFzB8B,GAGFlC,CAHEkC,CAEuB9B,UAFvB8B;AAAAA,YAEqC5B,CAFrC4B,GAGFlC,CAHEkC,CAEmC5B,IAFnC4B;AAKN,YAAIf,KAAK4C,eAAL5C,IAAwBe,GAAAA,CAAGL,SAAHK,CAAaE,QAAbF,CAAsB9B,CAAtB8B,CAA5B,EACE;;AAEF,YAAM8B,CAAAA,GAAW,SAAXA,CAAW,GAAA;AACf9B,UAAAA,GAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoB9B,CAApB8B,GACAA,GAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,GAAkB,EADlBA,EAEAA,GAAAA,CAAGkB,mBAAHlB,CAAuB,eAAvBA,EAAwC8B,CAAxC9B,CAFAA,EAGAf,MAAAA,CAAKiD,gBAALjD,CAAKiD,CAAiB,CAAtBjD,CAHAe,EAIAf,MAAAA,CAAKkD,IAALlD,CAAU,iBAAVA,EAA6B;AAC3BmD,YAAAA,YAAAA,EAAcpC;AADa,WAA7Bf,CAJAe;AAKgBA,SANlB;AAAA,YAUMC,CAAAA,GAAKtB,CAAAA,CAAQqB,GAARrB,EAAYM,KAAKI,MAALJ,CAAYvB,aAAxBiB,CAVX;;AAWAsB,gBAAAA,CAAAA,IAAAA,CAAAA,CAAIN,SAAJM,CAAcL,GAAdK,CAAkBlC,CAAlBkC,CAAAA;AAEA,YAAMI,CAAAA,GAAIJ,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIb,aAAJa,CAA+BhB,KAAKI,MAALJ,CAAYpB,cAA3CoC,CAAV;AACAI,gBAAAA,CAAAA,IAAAA,CAAAA,CAAGE,YAAHF,CAAgB,eAAhBA,EAAiC,MAAjCA,CAAAA,EACAA,QAAAA,CAAAA,IAAAA,CAAAA,CAAGV,SAAHU,CAAa0B,MAAb1B,CAAoBpC,CAApBoC,CADAA,EAGAL,GAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,GAAkB,KAHlBK,EAIAL,GAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoBhC,CAApBgC,CAJAK,EAKAL,GAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoB5B,CAApB4B,CALAK,EAMAL,GAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiB9B,CAAjB8B,CANAK;AAOA,YAAMgC,CAAAA,GAAmB,GAAGxC,KAAH,CACtBnB,IADsB,CACH,UAAd4D,CAAAA,GAAAA,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIC,UAAU,KAAVA,KAAU,CAAVA,KAAU,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,CAAEC,QADC,EAEtBC,MAFsB,CAEdC,UAAAA,CAAAA;AAAAA,iBAAMA,CAAAA,KAAMzC,CAAZyC;AAAAA,SAFc,CAAzB;AAGIzD,aAAKI,MAALJ,CAAYrB,MAAZqB,IAAsBoD,CAAAA,CAAiBM,MAAjBN,GAA0B,CAAhDpD,IACFoD,CAAAA,CAAiBtC,OAAjBsC,CAA0BO,UAAAA,CAAAA,EAAAA;AACxB,cAAMC,CAAAA,GAAQD,CAAAA,CAAMxD,aAANwD,CAAiC3D,MAAAA,CAAKI,MAALJ,CAAYtB,OAA7CiF,CAAd;AACIC,UAAAA,CAAAA,IACF5D,MAAAA,CAAKmB,IAALnB,CAAU4D,CAAV5D,CADE4D;AACQA,SAHdR,CADEpD,EASJA,KAAKiD,gBAALjD,CAAKiD,CAAiB,CAAtBjD,CATIA,EAWJe,GAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiBhC,CAAjBgC,CAXIf,EAYJe,GAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiB5B,CAAjB4B,CAZIf,EAaJe,GAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,aAAqBA,GAAAA,CAAG8C,YAAxB9C,OAbIf,EAcJA,KAAKkD,IAALlD,CAAU,gBAAVA,EAA4B;AAC1B8D,UAAAA,WAAAA,EAAa/C;AADa,SAA5Bf,CAdIA,EAiBJe,GAAAA,CAAGQ,gBAAHR,CAAoB,eAApBA,EAAqC8B,CAArC9B,CAjBIf;AAoBNF;;;aAAAA,cAAKH,CAALG,EAAKH;AAAAA;;AACH,YACEb,CADF,GAEID,CAFJ,CAAMC,MAAN;AAAA,YACUC,GADV,GAEIF,CAFJ,CACQE,QADR;AAAA,YACoBC,CADpB,GAEIH,CAFJ,CACkBG,SADlB;AAAA,YAC+BC,CAD/B,GAEIJ,CAFJ,CAC6BI,UAD7B;AAAA,YAC2CE,CAD3C,GAEIN,CAFJ,CACyCM,IADzC;AAAA,YAGM4B,CAHN,GAGWpB,CAHX;AAIA,YAAIK,KAAK4C,eAAL5C,IAAK4C,CAAoB7B,CAAAA,CAAGL,SAAHK,CAAaE,QAAbF,CAAsB5B,CAAtB4B,CAA7B,EACE;AAEFf,aAAKkD,IAALlD,CAAU,gBAAVA,EAA4B;AAC1B+D,UAAAA,WAAAA,EAAahD;AADa,SAA5Bf;AAIA,YAAMgB,CAAAA,GAAKtB,CAAAA,CAAQqB,CAARrB,EAAYM,KAAKI,MAALJ,CAAYvB,aAAxBiB,CAAX;AACAsB,gBAAAA,CAAAA,IAAAA,CAAAA,CAAIN,SAAJM,CAAc8B,MAAd9B,CAAqBlC,CAArBkC,CAAAA;;AAEA,YAAM6B,CAAAA,GAAW,SAAXA,CAAW,GAAA;AACf9B,UAAAA,CAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoB9B,CAApB8B,GACAA,CAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiBhC,GAAjBgC,CADAA,EAEAA,CAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,GAAkB,EAFlBA,EAGAA,CAAAA,CAAGkB,mBAAHlB,CAAuB,eAAvBA,EAAwC8B,CAAxC9B,CAHAA,EAIAf,MAAAA,CAAKiD,gBAALjD,CAAKiD,CAAiB,CAAtBjD,CAJAe,EAKAf,MAAAA,CAAKkD,IAALlD,CAAU,kBAAVA,EAA8B;AAC5BgE,YAAAA,aAAAA,EAAejD;AADa,WAA9Bf,CALAe;AAMiBA,SAPnB;;AAWAA,QAAAA,CAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,aAAqBA,CAAAA,CAAGkD,qBAAHlD,GAA2BiC,MAAhDjC,SACAA,CAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,aAAqBA,CAAAA,CAAGmD,YAAxBnD,OADAA,EAGAA,CAAAA,CAAGL,SAAHK,CAAaJ,GAAbI,CAAiB9B,CAAjB8B,CAHAA,EAIAA,CAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoBhC,GAApBgC,CAJAA,EAKAA,CAAAA,CAAGL,SAAHK,CAAa+B,MAAb/B,CAAoB5B,CAApB4B,CALAA,EAMAf,KAAKiD,gBAALjD,CAAKiD,CAAiB,CAAtBjD,CANAe,EAQAA,CAAAA,CAAGQ,gBAAHR,CAAoB,eAApBA,EAAqC8B,CAArC9B,CARAA,EAUAA,CAAAA,CAAGgC,KAAHhC,CAASiC,MAATjC,GAAkB,KAVlBA;AAYA,YAAMK,CAAAA,GAAIJ,QAAAA,CAAAA,GAAAA,KAAE,CAAFA,GAAAA,CAAAA,CAAIb,aAAJa,CAAkBhB,KAAKI,MAALJ,CAAYpB,cAA9BoC,CAAV;AACAI,gBAAAA,CAAAA,IAAAA,CAAAA,CAAGE,YAAHF,CAAgB,eAAhBA,EAAiC,OAAjCA,CAAAA,EACAA,QAAAA,CAAAA,IAAAA,CAAAA,CAAGV,SAAHU,CAAaT,GAAbS,CAAiBpC,CAAjBoC,CADAA;AAIMtB;;;aAAAA,0BAAiB8C,CAAjB9C,EAAiB8C;AACvB5C,aAAK4C,eAAL5C,GAAuB4C,CAAvB5C;AAGFF;;;aArMAA,gBAAcH,CAAdG,EAA2BW,CAA3BX,EAA2BW;AACzB,eAAO,IAAIZ,CAAJ,CAAcF,CAAd,EAAkBc,CAAlB,CAAP;AAGMX;;;aAiMRA,mBAAiBT,CAAjBS,EAAiBT;AACf,eAAO8E,OAAAA,CAAS9E,CAAAA,CAAoBqB,SAA7ByD,CAAP;AAAoCzD;;;;;;AAAAA,SAAAA,CAAAA;AAAAA,C","sourcesContent":["import { IMMOptions } from './interface';\n\nexport type MetisMenuEvents =\n  | 'show.metisMenu'\n  | 'shown.metisMenu'\n  | 'hide.metisMenu'\n  | 'hidden.metisMenu';\n\nexport const Default: IMMOptions = {\n  parentTrigger: 'li',\n  subMenu: 'ul',\n  toggle: true,\n  triggerElement: 'a',\n};\n\nexport const ClassName = {\n  ACTIVE: 'mm-active',\n  COLLAPSE: 'mm-collapse',\n  COLLAPSED: 'mm-collapsed',\n  COLLAPSING: 'mm-collapsing',\n  METIS: 'metismenu',\n  SHOW: 'mm-show',\n};\n","export function matches(element: Element, selector: string): boolean {\n  const nativeMatches = element.matches\n    || element.webkitMatchesSelector\n    || element.msMatchesSelector;\n  return nativeMatches.call(element, selector);\n}\n\nexport function closest(element: Element, selector: string): Element | null {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  let el: Element | null = element;\n  while (el) {\n    if (matches(el, selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n","/* eslint-disable max-len */\nimport { ClassName, Default, MetisMenuEvents } from './constant';\nimport { IMMOptions } from './interface';\nimport { EventType, SpecificEventListener, CustomEventListener } from './types';\nimport { closest } from './util';\n\nclass MetisMenu {\n  protected config: IMMOptions;\n\n  protected element: Element;\n\n  protected isTransitioning!: boolean;\n\n  protected disposed: boolean;\n\n  protected triggerArr: Array<Element>;\n\n  /**\n   * Creates an instance of MetisMenu.\n   *\n   * @constructor\n   * @param {Element | string} element\n   * @param {IMMOptions} [options]\n   * @memberof MetisMenu\n   */\n\n  constructor(element: Element | string, options?: IMMOptions) {\n    this.element = MetisMenu.isElement(element) ? element : document.querySelector<HTMLElement>(element)!;\n    this.config = { ...Default, ...options };\n    this.disposed = false;\n    this.triggerArr = [];\n    this.init();\n  }\n\n  static attach(el: Element, opt?: IMMOptions) {\n    return new MetisMenu(el, opt);\n  }\n\n  private init(): void {\n    const { METIS, ACTIVE, COLLAPSE } = ClassName;\n    this.element.classList.add(METIS);\n\n    [].slice.call(this.element.querySelectorAll<HTMLElement>(this.config.subMenu!)).forEach((ul: Element) => {\n      ul.classList.add(COLLAPSE!);\n      const li = closest(ul, this.config.parentTrigger!);\n\n      if (li?.classList.contains(ACTIVE!)) {\n        this.show(ul as HTMLElement);\n      } else {\n        this.hide(ul);\n      }\n\n      const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n      if (a?.getAttribute('aria-disabled') === 'true') {\n        return;\n      }\n\n      a?.setAttribute('aria-expanded', 'false');\n\n      a?.addEventListener('click', this.clickEvent.bind(this));\n      this.triggerArr.push(a!);\n    });\n  }\n\n  private clickEvent(evt?: Event) {\n    if (!this.disposed) {\n      const target = evt?.currentTarget as Element | null;\n      if (target && target.tagName === 'A') {\n        evt!.preventDefault();\n      }\n\n      const li = closest(target!, this.config.parentTrigger!);\n      const ul = li?.querySelector(this.config.subMenu!);\n      this.toggle(ul!);\n    }\n  }\n\n  update() {\n    this.disposed = false;\n    this.init();\n  }\n\n  dispose() {\n    this.triggerArr.forEach((arr) => {\n      arr.removeEventListener('click', this.clickEvent.bind(this));\n    });\n    this.disposed = true;\n  }\n\n  on<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean) {\n    this.element.addEventListener(evtType, handler, options);\n    return this;\n  }\n\n  off<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean) {\n    this.element.removeEventListener(evtType, handler, options);\n    return this;\n  }\n\n  emit<T extends object>(evtType: string, evtData: T, shouldBubble = false) {\n    let evt: CustomEvent<T>;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent<T>(evtType, {\n        bubbles: shouldBubble,\n        detail: evtData,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n    this.element.dispatchEvent(evt);\n    return this;\n  }\n\n  toggle(ul: Element) {\n    const li = closest(ul, this.config.parentTrigger!);\n    if (li?.classList.contains(ClassName.ACTIVE)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  }\n\n  show(el: Element) {\n    const ul = el as HTMLElement;\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n\n    if (this.isTransitioning || ul.classList.contains(COLLAPSING!)) {\n      return;\n    }\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('shown.metisMenu', {\n        shownElement: ul,\n      });\n    };\n\n    const li = closest(ul, this.config.parentTrigger!);\n    li?.classList.add(ACTIVE!);\n\n    const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'true');\n    a?.classList.remove(COLLAPSED!);\n\n    ul.style.height = '0px';\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    ul.classList.add(COLLAPSING!);\n    const eleParentSiblins = [].slice\n      .call(li?.parentNode?.children)\n      .filter((c) => c !== li);\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      eleParentSiblins.forEach((sibli: Element) => {\n        const sibUl = sibli.querySelector<HTMLElement>(this.config.subMenu!);\n        if (sibUl) {\n          this.hide(sibUl);\n        }\n      });\n    }\n\n    this.setTransitioning(true);\n\n    ul.classList.add(COLLAPSE!);\n    ul.classList.add(SHOW!);\n    ul.style.height = `${ul.scrollHeight}px`;\n    this.emit('show.metisMenu', {\n      showElement: ul,\n    });\n    ul.addEventListener('transitionend', complete);\n  }\n\n  hide(el: Element) {\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n    const ul = el as HTMLElement;\n    if (this.isTransitioning || !ul.classList.contains(SHOW!)) {\n      return;\n    }\n    this.emit('hide.metisMenu', {\n      hideElement: ul,\n    });\n\n    const li = closest(ul, this.config.parentTrigger!);\n    li?.classList.remove(ACTIVE!);\n\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.classList.add(COLLAPSE!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('hidden.metisMenu', {\n        hiddenElement: ul,\n      });\n    };\n\n    ul.style.height = `${ul.getBoundingClientRect().height}px`;\n    ul.style.height = `${ul.offsetHeight}px`;\n\n    ul.classList.add(COLLAPSING!);\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    this.setTransitioning(true);\n\n    ul.addEventListener('transitionend', complete);\n\n    ul.style.height = '0px';\n\n    const a = li?.querySelector(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'false');\n    a?.classList.add(COLLAPSED!);\n  }\n\n  private setTransitioning(isTransitioning: boolean) {\n    this.isTransitioning = isTransitioning;\n  }\n\n  static isElement(element: unknown): element is Element {\n    return Boolean((element as Element).classList);\n  }\n}\n\nexport default MetisMenu;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import { takeEvery, put, call } from \"redux-saga/effects\"; // Login Redux States\n\nimport { FORGET_PASSWORD } from \"./actionTypes\";\nimport { userForgetPasswordSuccess, userForgetPasswordError } from \"./actions\"; //Include Both Helper File with needed methods\n\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\nimport { postFakeForgetPwd, postJwtForgetPwd } from \"../../../helpers/fakebackend_helper\";\nconst fireBaseBackend = getFirebaseBackend(); //If user is send successfully send mail link then dispatch redux action's are directly from here.\n\nfunction* forgetUser({\n  payload: {\n    user,\n    history\n  }\n}) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.forgetPassword, user.email);\n\n      if (response) {\n        yield put(userForgetPasswordSuccess(\"Reset link are sended to your mailbox, check there first\"));\n      }\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtForgetPwd, {\n        email: user.email\n      });\n\n      if (response) {\n        yield put(userForgetPasswordSuccess(\"Reset link are sended to your mailbox, check there first\"));\n      }\n    } else {\n      const response = yield call(postFakeForgetPwd, {\n        email: user.email\n      });\n\n      if (response) {\n        yield put(userForgetPasswordSuccess(\"Reset link are sended to your mailbox, check there first\"));\n      }\n    }\n  } catch (error) {\n    yield put(userForgetPasswordError(error));\n  }\n}\n\nfunction* forgetPasswordSaga() {\n  yield takeEvery(FORGET_PASSWORD, forgetUser);\n}\n\nexport default forgetPasswordSaga;","map":{"version":3,"sources":["D:/localserver-php8/htdocs/react/realtyspace/src/store/auth/forgetpwd/saga.js"],"names":["takeEvery","put","call","FORGET_PASSWORD","userForgetPasswordSuccess","userForgetPasswordError","getFirebaseBackend","postFakeForgetPwd","postJwtForgetPwd","fireBaseBackend","forgetUser","payload","user","history","process","env","REACT_APP_DEFAULTAUTH","response","forgetPassword","email","error","forgetPasswordSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC,C,CAEA;;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,SAASC,yBAAT,EAAoCC,uBAApC,QAAmE,WAAnE,C,CAEA;;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AACA,SACEC,iBADF,EAEEC,gBAFF,QAGO,qCAHP;AAKA,MAAMC,eAAe,GAAGH,kBAAkB,EAA1C,C,CAEA;;AACA,UAAUI,UAAV,CAAqB;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR;AAAX,CAArB,EAAqD;AACnD,MAAI;AACF,QAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,UAA1C,EAAsD;AACpD,YAAMC,QAAQ,GAAG,MAAMf,IAAI,CAACO,eAAe,CAACS,cAAjB,EAAiCN,IAAI,CAACO,KAAtC,CAA3B;;AACA,UAAIF,QAAJ,EAAc;AACZ,cAAMhB,GAAG,CACPG,yBAAyB,CACvB,0DADuB,CADlB,CAAT;AAKD;AACF,KATD,MASO,IAAIU,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,KAA1C,EAAiD;AACtD,YAAMC,QAAQ,GAAG,MAAMf,IAAI,CAACM,gBAAD,EAAmB;AAAEW,QAAAA,KAAK,EAAEP,IAAI,CAACO;AAAd,OAAnB,CAA3B;;AACA,UAAIF,QAAJ,EAAc;AACZ,cAAMhB,GAAG,CACPG,yBAAyB,CACvB,0DADuB,CADlB,CAAT;AAKD;AACF,KATM,MASA;AACL,YAAMa,QAAQ,GAAG,MAAMf,IAAI,CAACK,iBAAD,EAAoB;AAAEY,QAAAA,KAAK,EAAEP,IAAI,CAACO;AAAd,OAApB,CAA3B;;AACA,UAAIF,QAAJ,EAAc;AACZ,cAAMhB,GAAG,CACPG,yBAAyB,CACvB,0DADuB,CADlB,CAAT;AAKD;AACF;AACF,GA7BD,CA6BE,OAAOgB,KAAP,EAAc;AACd,UAAMnB,GAAG,CAACI,uBAAuB,CAACe,KAAD,CAAxB,CAAT;AACD;AACF;;AAED,UAAUC,kBAAV,GAA+B;AAC7B,QAAMrB,SAAS,CAACG,eAAD,EAAkBO,UAAlB,CAAf;AACD;;AAED,eAAeW,kBAAf","sourcesContent":["import { takeEvery, put, call } from \"redux-saga/effects\"\n\n// Login Redux States\nimport { FORGET_PASSWORD } from \"./actionTypes\"\nimport { userForgetPasswordSuccess, userForgetPasswordError } from \"./actions\"\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"\nimport {\n  postFakeForgetPwd,\n  postJwtForgetPwd,\n} from \"../../../helpers/fakebackend_helper\"\n\nconst fireBaseBackend = getFirebaseBackend()\n\n//If user is send successfully send mail link then dispatch redux action's are directly from here.\nfunction* forgetUser({ payload: { user, history } }) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.forgetPassword, user.email)\n      if (response) {\n        yield put(\n          userForgetPasswordSuccess(\n            \"Reset link are sended to your mailbox, check there first\"\n          )\n        )\n      }\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtForgetPwd, { email: user.email })\n      if (response) {\n        yield put(\n          userForgetPasswordSuccess(\n            \"Reset link are sended to your mailbox, check there first\"\n          )\n        )\n      }\n    } else {\n      const response = yield call(postFakeForgetPwd, { email: user.email })\n      if (response) {\n        yield put(\n          userForgetPasswordSuccess(\n            \"Reset link are sended to your mailbox, check there first\"\n          )\n        )\n      }\n    }\n  } catch (error) {\n    yield put(userForgetPasswordError(error))\n  }\n}\n\nfunction* forgetPasswordSaga() {\n  yield takeEvery(FORGET_PASSWORD, forgetUser)\n}\n\nexport default forgetPasswordSaga\n"]},"metadata":{},"sourceType":"module"}
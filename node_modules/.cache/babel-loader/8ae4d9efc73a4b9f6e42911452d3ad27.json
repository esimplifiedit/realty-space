{"ast":null,"code":"import _classCallCheck from\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/localserver-php8/htdocs/react/realtyspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import MetaTags from'react-meta-tags';import{connect}from\"react-redux\";import{Link,withRouter}from\"react-router-dom\";import*as moment from'moment';import{withTranslation}from\"react-i18next\";import{Button,Col,Container,DropdownItem,DropdownMenu,DropdownToggle,Row,Table,UncontrolledDropdown,Modal,ModalHeader,ModalBody}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";//Import Breadcrumb\nimport Breadcrumbs from\"../../../components/Common/Breadcrumb\";import{map}from\"lodash\";//Import Image\nimport images from\"assets/images\";import{getProjects,updateProject,deleteProject}from\"../../../store/projects/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectsList=/*#__PURE__*/function(_Component){_inherits(ProjectsList,_Component);var _super=_createSuper(ProjectsList);function ProjectsList(props){var _this;_classCallCheck(this,ProjectsList);_this=_super.call(this,props);_this.handleProjectClicks=function(arg){_this.setState({selectedProject:arg});_this.toggle();};_this.handleDeleteProject=function(project){var onDeleteProject=_this.props.onDeleteProject;onDeleteProject(project);};_this.handleProjectClick=function(arg){var project=arg;_this.setState({projects:{id:project.id,img:project.img,name:project.name,description:project.description,status:project.status,color:project.color,dueDate:project.dueDate,team:project.team},isEdit:true});_this.toggle();};_this.handleValidProjectSubmit=function(e,values){var _this$props=_this.props,onAddNewProject=_this$props.onAddNewProject,onUpdateProject=_this$props.onUpdateProject;var _this$state=_this.state,isEdit=_this$state.isEdit,projects=_this$state.projects,selectedProject=_this$state.selectedProject;if(isEdit){var _updateProject={id:projects.id,img:values.img,name:values.name,description:values.description,status:values.status,color:values.color,dueDate:values.dueDate,team:values.team};// update user\nonUpdateProject(_updateProject);}else{var newProject={id:Math.floor(Math.random()*(30-20))+20,name:values[\"name\"],description:values[\"description\"],status:values[\"status\"],color:values[\"color\"],dueDate:values[\"dueDate\"],team:values[\"team\"]};// save new user\nonAddNewProject(newProject);}_this.setState({selectedProject:null});_this.toggle();};_this.handleValidDate=function(date){var date1=moment(new Date(date)).format('DD MMM Y');return date1;};_this.state={projects:[],modal:false};_this.handleProjectClick=_this.handleProjectClick.bind(_assertThisInitialized(_this));_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.handleValidProjectSubmit=_this.handleValidProjectSubmit.bind(_assertThisInitialized(_this));_this.handleProjectClicks=_this.handleProjectClicks.bind(_assertThisInitialized(_this));return _this;}_createClass(ProjectsList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,projects=_this$props2.projects,onGetProjects=_this$props2.onGetProjects;onGetProjects();this.setState({projects:projects});}},{key:\"toggle\",value:function toggle(){this.setState(function(prevState){return{modal:!prevState.modal};});}/**\r\n   * Handling submit user on user form\r\n   */},{key:\"render\",value:function render(){var projects=this.props.projects;var isEdit=this.state.isEdit;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Projects | Realty Space\"})}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(Breadcrumbs,{title:this.props.t(\"Projects\"),breadcrumbItem:this.props.t(\"Projects\")}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/pre-construction/create-project\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger float-end\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-plus\"}),\" \",this.props.t(\"Add New\")]})})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive\",children:[/*#__PURE__*/_jsxs(Table,{className:\"project-list-table table-nowrap align-middle table-borderless\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:this.props.t(\"Project Name\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:this.props.t(\"Builder\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:this.props.t(\"Price Range\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:this.props.t(\"Features\")}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:this.props.t(\"Action\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:map(projects,function(project,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-truncate font-size-14\",children:/*#__PURE__*/_jsx(Link,{to:\"/pre-construction/project-detail\",className:\"text-dark\",children:project.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:project.address})]}),/*#__PURE__*/_jsx(\"td\",{children:project.builder}),/*#__PURE__*/_jsxs(\"td\",{children:[\"From $\",project.pricefrom,\" - To $\",project.priceto]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar-group\",children:map(project.team,function(member,index){return!member.img||member.img!==\"Null\"?/*#__PURE__*/_jsx(\"div\",{className:\"avatar-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"d-inline-block\",id:\"member\"+member.id,children:/*#__PURE__*/_jsx(\"img\",{src:images[member.img],className:\"rounded-circle avatar-xs\",alt:\"\"})})},index):/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"d-inline-block\",id:\"member\"+member.id,children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar-xs\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar-title rounded-circle bg-\"+member.color+\" text-white font-size-16\",children:member.name})})},\"_team_\"+index);})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{children:[/*#__PURE__*/_jsx(DropdownToggle,{href:\"#\",className:\"card-drop\",tag:\"a\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-dots-horizontal font-size-18\"})}),/*#__PURE__*/_jsxs(DropdownMenu,{className:\"dropdown-menu-end\",children:[/*#__PURE__*/_jsxs(DropdownItem,{href:\"/pre-construction/project-detail\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-pencil font-size-16 text-success me-1\"}),\" \",\"Edit\"]}),/*#__PURE__*/_jsxs(DropdownItem,{href:\"/pre-construction/campaign\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-magnify font-size-16 text-danger me-1\"}),\" \",\"Campaigns\"]})]})]})})]},index);})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.modal,className:this.props.className,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggle,tag:\"h4\",children:!!isEdit?\"Edit Project\":\"Add Project\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(AvForm,{onValidSubmit:this.handleValidProjectSubmit,children:[/*#__PURE__*/_jsx(Row,{form:true,children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsx(AvField,{type:\"hidden\",value:this.state.projects.img||\"\",name:\"img\"}),/*#__PURE__*/_jsx(AvField,{type:\"hidden\",value:this.state.projects.team||\"\",name:\"team\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(AvField,{name:\"name\",label:\"Name\",type:\"text\",errorMessage:\"Invalid name\",validate:{required:{value:true}},value:this.state.projects.name||\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(AvField,{name:\"description\",label:\"Description\",type:\"text\",errorMessage:\"Invalid Description\",validate:{required:{value:true}},value:this.state.projects.description||\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(AvField,{name:\"status\",label:\"Status\",id:\"status1\",type:\"select\",className:\"form-select\",errorMessage:\"Invalid Status\",validate:{required:{value:true}},value:this.state.projects.status||\"Pending\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Delay\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(AvField,{name:\"color\",label:\"Color\",type:\"select\",className:\"form-select\",errorMessage:\"Invalid Color\",validate:{required:{value:true}},value:this.state.projects.color||\"success\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"success\"}),/*#__PURE__*/_jsx(\"option\",{children:\"warning\"}),/*#__PURE__*/_jsx(\"option\",{children:\"danger\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(AvField,{name:\"dueDate\",label:\"dueDate\",type:\"date\",errorMessage:\"Invalid Color\",format:\"YYYY/MM/DD\",validate:{required:{value:true}},value:this.state.projects.dueDate||\"\"})})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success save-user\",children:\"Save\"})})})})]})})]})]})})})})]})]})});}}]);return ProjectsList;}(Component);var mapStateToProps=function mapStateToProps(_ref){var projects=_ref.projects;return{projects:projects.projects};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetProjects:function onGetProjects(){return dispatch(getProjects());},onUpdateProject:function onUpdateProject(project){return dispatch(updateProject(project));},onDeleteProject:function onDeleteProject(project){return dispatch(deleteProject(project));}};};export default connect(mapStateToProps,mapDispatchToProps)(withRouter(withTranslation()(ProjectsList)));","map":{"version":3,"sources":["D:/localserver-php8/htdocs/react/realtyspace/src/pages/Pre-Construction/Projects/index.js"],"names":["React","Component","MetaTags","connect","Link","withRouter","moment","withTranslation","Button","Col","Container","DropdownItem","DropdownMenu","DropdownToggle","Row","Table","UncontrolledDropdown","Modal","ModalHeader","ModalBody","AvForm","AvField","Breadcrumbs","map","images","getProjects","updateProject","deleteProject","ProjectsList","props","handleProjectClicks","arg","setState","selectedProject","toggle","handleDeleteProject","project","onDeleteProject","handleProjectClick","projects","id","img","name","description","status","color","dueDate","team","isEdit","handleValidProjectSubmit","e","values","onAddNewProject","onUpdateProject","state","newProject","Math","floor","random","handleValidDate","date","date1","Date","format","modal","bind","onGetProjects","prevState","t","index","address","builder","pricefrom","priceto","member","className","required","value","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport MetaTags from 'react-meta-tags';\r\nimport { connect } from \"react-redux\"\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport * as moment from 'moment';\r\nimport { withTranslation } from \"react-i18next\"\r\n\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle,\r\n  Row,\r\n  Table,\r\n  UncontrolledDropdown,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody\r\n} from \"reactstrap\"\r\n\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\r\n\r\n//Import Breadcrumb\r\nimport Breadcrumbs from \"../../../components/Common/Breadcrumb\"\r\nimport { map } from \"lodash\"\r\n\r\n//Import Image\r\nimport images from \"assets/images\"\r\n\r\n\r\nimport {\r\n  getProjects,\r\n  updateProject,\r\n  deleteProject\r\n} from \"../../../store/projects/actions\"\r\n\r\nclass ProjectsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projects: [],\r\n      modal: false,\r\n    }\r\n\r\n    this.handleProjectClick = this.handleProjectClick.bind(this)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.handleValidProjectSubmit = this.handleValidProjectSubmit.bind(this)\r\n    this.handleProjectClicks = this.handleProjectClicks.bind(this)\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { projects, onGetProjects } = this.props;\r\n    onGetProjects()\r\n    this.setState({ projects })\r\n  }\r\n\r\n  handleProjectClicks = arg => {\r\n    this.setState({ selectedProject: arg })\r\n    this.toggle()\r\n  }\r\n\r\n  handleDeleteProject = (project) => {\r\n    const { onDeleteProject } = this.props\r\n    onDeleteProject(project)\r\n  }\r\n\r\n  handleProjectClick = arg => {\r\n    const project = arg\r\n\r\n    this.setState({\r\n      projects: {\r\n        id: project.id,\r\n        img: project.img,\r\n        name: project.name,\r\n        description: project.description,\r\n        status: project.status,\r\n        color: project.color,\r\n        dueDate: project.dueDate,\r\n        team: project.team\r\n      },\r\n      isEdit: true,\r\n    })\r\n\r\n    this.toggle()\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => ({\r\n      modal: !prevState.modal,\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Handling submit user on user form\r\n   */\r\n  handleValidProjectSubmit = (e, values) => {\r\n\r\n    const { onAddNewProject, onUpdateProject } = this.props\r\n    const { isEdit, projects, selectedProject } = this.state\r\n\r\n    if (isEdit) {\r\n      const updateProject = {\r\n        id: projects.id,\r\n        img: values.img,\r\n        name: values.name,\r\n        description: values.description,\r\n        status: values.status,\r\n        color: values.color,\r\n        dueDate: values.dueDate,\r\n        team: values.team\r\n      }\r\n\r\n      // update user\r\n      onUpdateProject(updateProject)\r\n    } else {\r\n\r\n      const newProject = {\r\n        id: Math.floor(Math.random() * (30 - 20)) + 20,\r\n        name: values[\"name\"],\r\n        description: values[\"description\"],\r\n        status: values[\"status\"],\r\n        color: values[\"color\"],\r\n        dueDate: values[\"dueDate\"],\r\n        team: values[\"team\"]\r\n      }\r\n      // save new user\r\n      onAddNewProject(newProject)\r\n    }\r\n    this.setState({ selectedProject: null })\r\n    this.toggle()\r\n  }\r\n\r\n  handleValidDate = (date) => {\r\n    const date1 = moment(new Date(date)).format('DD MMM Y');\r\n    return date1;\r\n  }\r\n\r\n  render() {\r\n    const { projects } = this.props\r\n    const { isEdit } = this.state\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"page-content\">\r\n          <MetaTags>\r\n            <title>Projects | Realty Space</title>\r\n          </MetaTags>\r\n          <Container fluid>\r\n            {/* Render Breadcrumbs */}\r\n            <Breadcrumbs\r\n              title={this.props.t(\"Projects\")}\r\n              breadcrumbItem={this.props.t(\"Projects\")}\r\n            />\r\n           <Row>\r\n             <Col lg=\"12\">\r\n               <div className=\"clearfix\">\r\n             <a href=\"/pre-construction/create-project\"><button type=\"button\" className=\"btn btn-danger float-end\"><i className=\"bx bx-plus\"></i> {this.props.t(\"Add New\")}</button></a>\r\n             </div>\r\n             </Col>\r\n           </Row>\r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <div className=\"\">\r\n                  <div className=\"table-responsive\">\r\n                    <Table className=\"project-list-table table-nowrap align-middle table-borderless\">\r\n                      <thead>\r\n                        <tr>\r\n                          \r\n                          <th scope=\"col\">{this.props.t(\"Project Name\")}</th>\r\n                          <th scope=\"col\">{this.props.t(\"Builder\")}</th>\r\n                          <th scope=\"col\">{this.props.t(\"Price Range\")}</th>\r\n                          <th scope=\"col\">{this.props.t(\"Features\")}</th>\r\n                          <th scope=\"col\">{this.props.t(\"Action\")}</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {map(projects, (project, index) => (\r\n                          <tr key={index}>\r\n                            \r\n                            <td>\r\n                              <h5 className=\"text-truncate font-size-14\">\r\n                                <Link\r\n                                  to={`/pre-construction/project-detail`}\r\n                                  className=\"text-dark\"\r\n                                >\r\n                                  {project.name}\r\n                                </Link>\r\n                              </h5>\r\n                              <p className=\"text-muted mb-0\">\r\n                                {project.address}\r\n                              </p>\r\n                            </td>\r\n\r\n                            <td>\r\n                            {project.builder}\r\n                            </td>\r\n                            <td>\r\n                              \r\n                                From ${project.pricefrom} - To ${project.priceto}\r\n                             \r\n                            </td>\r\n                            <td>\r\n                              <div className=\"avatar-group\">\r\n                                {map(project.team, (member, index) =>\r\n                                  !member.img || member.img !== \"Null\" ? (\r\n                                    <div className=\"avatar-group-item\" key={index}>\r\n                                      <Link\r\n                                        to=\"#\"\r\n                                        className=\"d-inline-block\"\r\n                                        id={\"member\" + member.id}\r\n                                      >\r\n                                        <img\r\n                                          src={images[member.img]}\r\n                                          className=\"rounded-circle avatar-xs\"\r\n                                          alt=\"\"\r\n                                        />\r\n                                      </Link>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <Link\r\n                                      to=\"#\"\r\n                                      className=\"d-inline-block\"\r\n                                      id={\"member\" + member.id}\r\n                                      key={\"_team_\" + index}\r\n                                    >\r\n                                      <div className=\"avatar-xs\">\r\n                                        <span\r\n                                          className={\r\n                                            \"avatar-title rounded-circle bg-\" +\r\n                                            member.color +\r\n                                            \" text-white font-size-16\"\r\n                                          }\r\n                                        >\r\n                                          {member.name}\r\n                                        </span>\r\n                                      </div>\r\n                                    </Link>\r\n                                  )\r\n                                )}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <UncontrolledDropdown>\r\n                                <DropdownToggle href=\"#\" className=\"card-drop\" tag=\"a\">\r\n                                  <i className=\"mdi mdi-dots-horizontal font-size-18\" />\r\n                                </DropdownToggle>\r\n                                <DropdownMenu className=\"dropdown-menu-end\">\r\n                                  <DropdownItem href=\"/pre-construction/project-detail\">\r\n                                    <i className=\"mdi mdi-pencil font-size-16 text-success me-1\" />{\" \"}\r\n                                    Edit\r\n                                  </DropdownItem>\r\n                                  <DropdownItem href=\"/pre-construction/campaign\">\r\n                                    <i className=\"mdi mdi-magnify font-size-16 text-danger me-1\" />{\" \"}\r\n                                    Campaigns\r\n                                  </DropdownItem>\r\n                                </DropdownMenu>\r\n                              </UncontrolledDropdown>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </Table>\r\n                    <Modal\r\n                      isOpen={this.state.modal}\r\n                      className={this.props.className}\r\n                    >\r\n                      <ModalHeader toggle={this.toggle} tag=\"h4\">\r\n                        {!!isEdit ? \"Edit Project\" : \"Add Project\"}\r\n                      </ModalHeader>\r\n                      <ModalBody>\r\n                        <AvForm\r\n                          onValidSubmit={\r\n                            this.handleValidProjectSubmit\r\n                          }\r\n                        >\r\n                          <Row form>\r\n                            <Col xs={12}>\r\n\r\n                              <AvField type=\"hidden\" value={this.state.projects.img || \"\"} name=\"img\" />\r\n\r\n                              <AvField type=\"hidden\" value={this.state.projects.team || \"\"} name=\"team\" />\r\n\r\n                              <div className=\"mb-3\">\r\n                                <AvField\r\n                                  name=\"name\"\r\n                                  label=\"Name\"\r\n                                  type=\"text\"\r\n                                  errorMessage=\"Invalid name\"\r\n                                  validate={{\r\n                                    required: { value: true },\r\n                                  }}\r\n                                  value={this.state.projects.name || \"\"}\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"mb-3\">\r\n                                <AvField\r\n                                  name=\"description\"\r\n                                  label=\"Description\"\r\n                                  type=\"text\"\r\n                                  errorMessage=\"Invalid Description\"\r\n                                  validate={{\r\n                                    required: { value: true },\r\n                                  }}\r\n                                  value={this.state.projects.description || \"\"}\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"mb-3\">\r\n                                <AvField\r\n                                  name=\"status\"\r\n                                  label=\"Status\"\r\n                                  id=\"status1\"\r\n                                  type=\"select\"\r\n                                  className=\"form-select\"\r\n                                  errorMessage=\"Invalid Status\"\r\n                                  validate={{\r\n                                    required: { value: true },\r\n                                  }}\r\n                                  value={this.state.projects.status || \"Pending\"}\r\n                                >\r\n                                  <option>Completed</option>\r\n                                  <option>Pending</option>\r\n                                  <option>Delay</option>\r\n                                </AvField>\r\n                              </div>\r\n\r\n                              <div className=\"mb-3\">\r\n                                <AvField\r\n                                  name=\"color\"\r\n                                  label=\"Color\"\r\n                                  type=\"select\"\r\n                                  className=\"form-select\"\r\n                                  errorMessage=\"Invalid Color\"\r\n                                  validate={{\r\n                                    required: { value: true },\r\n                                  }}\r\n                                  value={this.state.projects.color || \"success\"}\r\n                                >\r\n                                  <option>success</option>\r\n                                  <option>warning</option>\r\n                                  <option>danger</option>\r\n                                </AvField>\r\n\r\n                              </div>\r\n\r\n                              <div className=\"mb-3\">\r\n\r\n                                <AvField\r\n                                  name=\"dueDate\"\r\n                                  label=\"dueDate\"\r\n                                  type=\"date\"\r\n                                  errorMessage=\"Invalid Color\"\r\n                                  format='YYYY/MM/DD'\r\n                                  validate={{\r\n                                    required: { value: true },\r\n                                  }}\r\n                                  value={this.state.projects.dueDate || \"\"}\r\n                                >\r\n                                </AvField>\r\n\r\n                              </div>\r\n\r\n                            </Col>\r\n\r\n                          </Row>\r\n                          <Row>\r\n                            <Col>\r\n                              <div className=\"text-end\">\r\n\r\n                                <button\r\n                                  type=\"submit\"\r\n                                  className=\"btn btn-success save-user\"\r\n                                >Save</button>\r\n                              </div>\r\n                            </Col>\r\n                          </Row>\r\n                        </AvForm>\r\n                      </ModalBody>\r\n                    </Modal>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n\r\n    \r\n          </Container>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nProjectsList.propTypes = {\r\n  projects: PropTypes.array,\r\n  className: PropTypes.any,\r\n  onGetProjects: PropTypes.func,\r\n  onDeleteProject: PropTypes.func,\r\n  onUpdateProject: PropTypes.func,\r\n  onAddNewProject: PropTypes.func,\r\n  t: PropTypes.any\r\n}\r\n\r\nconst mapStateToProps = ({ projects }) => ({\r\n  projects: projects.projects,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onGetProjects: () => dispatch(getProjects()),\r\n  onUpdateProject: project => dispatch(updateProject(project)),\r\n  onDeleteProject: project => dispatch(deleteProject(project)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(withTranslation()(ProjectsList)))"]},"metadata":{},"sourceType":"module"}